<!DOCTYPE html>
<html>

<head>
    <title>TC TRACK INFORMATION</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
        integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
        crossorigin="" />
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
        integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
        crossorigin=""></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>


    <!-- <script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.3.1/leaflet.js"></script> -->

    <script src="https://code.jquery.com/jquery-3.4.1.js"
        integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU=" crossorigin="anonymous"></script>
    <script src="js/jquery-3.4.1.js"></script>

    <link rel="stylesheet" href="css/bootstrap.css">
    <script src="js/bootstrap.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <link rel="shortcut icon" href="img/favicon.ico" type="image/x-icon">
    <link rel="icon" href="img/favicon.ico" type="image/x-icon">

    <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>

    <script type="text/javascript" src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <script type="text/javascript" src="data/batas_wilayah.js"></script>
    <script type="text/javascript" src="data/line.js"></script>
    <style>
        #map {
            /* width: 894px; */
            width: 100%;
            height: 600px;
            top: 90px;
            margin-left: 10px;
            margin-right: 10px;

        }

        .legenda-left {
            margin: 10px;
            padding: 10px;

        }

        /* .wrap {
            width: 100%;
            border: solid 0px;
            color: rgb(27, 28, 23);
            margin: 0 auto;
        } */

        .header {
            background: rgb(34, 34, 34);
            /* border-bottom: solid 10px;  */
            padding: 1px 0;
            width: 100%;
            height: 90px;
            position: absolute;
            z-index: 1500;
        }

        .body-content {
            height: 100%px;
            width: 100%;

            background: rgb(14, 14, 14);

        }


        .center {
            display: block;
            margin-left: auto;
            margin-right: auto;
            width: 90%;
        }

        .body-content #mapid {
            float: left;
            height: 100%;
            width: 100%;

        }

        .keterangan {
            background: rgb(234, 235, 235);
            padding: 5px 0;
            width: 1350px;
            height: 700px;

        }

        .footer {
            background: rgb(139, 107, 0);
            height: 50px;
            width: 100%;
            position: relative;
            margin-left: 5px;
            /* margin-right: auto; */

        }

        /* .text-header {
            margin: 10px 0;
            padding: 10px;
            text-align: center;
            color: rgb(46, 46, 46);
        } */


        /* .text-body-content {
            margin: 20px 0;
            padding: 10px;
            text-align: center;
            color: rgb(218, 138, 19);

        } */

        .leaflet-popup-content-wrapper,
        .leaflet-popup-tip {
            background: rgb(11, 0, 43);
            box-shadow: 2px 4px 6px rgba(129, 129, 129, 0.4);
            color: #b7fcf8
        }

        .text-grafik {
            margin: 0px 0;
            padding: 0px;
            text-align: center;
            color: rgb(233, 232, 232);
        }


        .text-footer {
            margin: 0;
            padding: 10px;
            color: rgb(255, 255, 255);


        }

        .text-keterangan {
            margin: 0px 0;
            padding: 0px;
            text-align: center;
            color: rgb(36, 35, 35);
        }

        .text-slider {
            margin-bottom: 10px;
            padding: 0px;
            text-align: center;
            color: rgb(253, 253, 253);
        }


        .button {
            background-color: rgb(50, 51, 50);
            color: rgb(252, 249, 249);
            border: none;
            padding: 2px 54px;
            text-align: center;
            text-decoration: none;
            font-size: 14px;
            font-weight: bold;
            position: relative;
            top: 10px;
            left: 300px;
            display: block;

        }


        .button:hover,
        .button:focus {
            background-color: rgb(7, 140, 163)
        }


        .legend {
            line-height: 18px;
            color: rgb(19, 19, 19);
            opacity: 1;
        }


        .legend i {
            width: 18px;
            height: 15px;
            float: left;
            margin-right: 8px;
            opacity: 0.3;
        }



        .info {
            padding: 5px 6px;
            font: 10px/16px Arial, Helvetica, sans-serif;
            background: rgba(250, 249, 249, 0.8);
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.2);
            border-radius: 5px;
            opacity: 80%;
        }


        .container {
            padding-top: 100px;
            /* margin-left: 0;
            margin-right: 0; */
            max-width: 760px;
            background-color: none;
            position: relative;
            object-position: center;

        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 7px;
            border-radius: 5px;
            background: rgb(148, 3, 64);
            outline: none;
            opacity: 100;
            -webkit-transition: .2s;
            transition: opacity .2s;
            display: block;
            margin-left: auto;
            margin-right: auto;
            margin-top: 5px;


        }

        .garis_bawah {
            width: 1350px;
            height: 5px;
            border-radius: 0px;
            background: #080808;
            margin-left: 0px;
            margin-bottom: 0px;
            margin-top: auto;


        }


        .imgheader {
            position: absolute;
            top: 5px;
            right: 20px;
            margin-left: 5px;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: rgb(9, 153, 214);
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 10px;
            height: 30px;
            border-radius: 20%;
            background: rgb(231, 179, 7);
            cursor: pointer;
        }

        .imageslider {
            width: 740px;
            height: 30px;
            display: block;
            margin-left: auto;
            margin-right: auto;
            margin-top: 10px;
        }

        .imagefdrs {

            opacity: 0.5;

        }


        /*loader*/
        .loader,
        .loader:before,
        .loader:after {
            background: #ffffff;
            -webkit-animation: load1 1s infinite ease-in-out;
            animation: load1 1s infinite ease-in-out;
            width: 1em;
            height: 3em;
        }

        .loader:before,
        .loader:after {
            position: absolute;
            top: 0;
            content: '';
        }

        .loader:before {
            left: -1.5em;
            -webkit-animation-delay: -0.32s;
            animation-delay: -0.32s;
        }

        .loader {
            text-indent: -9999em;
            margin: 30px auto;
            position: relative;
            font-size: 11px;
            -webkit-transform: translateZ(0);
            -ms-transform: translateZ(0);
            transform: translateZ(0);
            -webkit-animation-delay: -0.16s;
            animation-delay: -0.16s;
        }

        .loader:after {
            left: 1.5em;
        }

        @-webkit-keyframes load1 {

            0%,
            80%,
            100% {
                box-shadow: 0 0 #ffffff;
                height: 4em;
            }

            40% {
                box-shadow: 0 -2em #ffffff;
                height: 5em;
            }
        }

        @keyframes load1 {

            0%,
            80%,
            100% {
                box-shadow: 0 0 #ffffff;
                height: 4em;
            }

            40% {
                box-shadow: 0 -2em #ffffff;
                height: 5em;
            }
        }

        /*akhir loader*/
    </style>
</head>

<!-- ================================================== ISI LAMAN ========================================================= -->
<!-- ================================================== ISI LAMAN ========================================================= -->

<body class>

    <div class="header">

        <!-- <img src="img/logo_siklon.png" alt="" width="120" height="70" class="imgheader" > -->

        <!-- <a class="navbar-brand" href="index.html">
            <img src="img/logo_siklon.png" alt="" width="120" height="70" class="imgheader">
        </a> -->

        <nav class="navbar navbar-dark " style="background-color: #161616">
            <img src="img/header_logosiklon.png" alt="" width="260" height="70" class="imgheader">
            
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavDropdown">
          <ul class="navbar-nav">
            <li class="nav-item active">
              <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Features</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Pricing</a>
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Dropdown link
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a class="dropdown-item" href="#">Action</a>
                <a class="dropdown-item" href="#">Another action</a>
                <a class="dropdown-item" href="#">Something else here</a>
              </div>
            </li>
          </ul>
        </div>
      </nav>

















        
    </div>

    <div class="body-content">
        <div class="row">
            <div class="col-xs-12"></div>
            <div id="map">
            </div>
        </div>

        <div class="container">
            <div class="loader">Loading...</div>
            <!-- <img id='garis_slider' src='img/GARIS_SLIDER5.png' class="imageslider" /> -->

            <div class="slidecontainer">
                <h6 class="text-keterangan" style="color: cornsilk;"><b>Citra Satelit 6 jam</b> </h6>
            <br>
                <!-- <input type="range" min="0" max="7" value="1" class="slider" id="myRange">
                    <p class="text-keterangan"> Prakiraan H+ : <span id="demo"> </span></p> -->
                <input onchange='setImage(this)' type="range" min="0" max="7" value="0" step="1" id="myRange"
                    class="slider">
                    
                <br>
                <!-- <p class="text-slider"> Citra Satelit : <span id="demo"> </span> <b> | Tanggal : 9 April 2021</b></p> -->
            </div>


            <!-- <p class="text-slider"> Citra Satelit : <span id="demo"> </span> <b> | Tanggal : <span
                                id="Date"> </span></b></p>
                            </div> -->

        </div>
        <!-- <hr class="garis_bawah"> -->
        <img id='img_satelit' src='img/satelit/satelit.png' height="0" width="0" class="imagefdrs" />
       
        <br>
        <div id="chartContainer_ch"
            style="height: 300px; width:auto ; position:relative; margin-right:0; margin-left:0;"></div>
        
<br>

        <!-- <div class="keterangan"> -->

       
        <!-- <h4 class="text-keterangan"><b>GRAFIK SIKLON TROPIS DI WILAYAH BBU & BBS</b></h4> -->
        <!-- <p class="text-keterangan">Penjelasan singkat tentang warna pada tingkatan disetiap index FDRS
                    (FFMC, DMC, DC, FWI, BUI, ISI)</p> -->

        <!-- <div class="btn-group btn-group-justified">
                    <button onclick="myFunction()" class="button"><a class="KET_FFMC">FFMC</a></button>
                    <button onclick="myFunction()" class="button"><a class="KET_DMC">DMC</a></button>
                    <button onclick="myFunction()" class="button"><a class="KET_DC">DC</a></button>
                    <button onclick="myFunction()" class="button"><a class="KET_FWI">FWI</a></button>
                    <button onclick="myFunction()" class="button"><a class="KET_BUI">BUI</a></button>
                    <button onclick="myFunction()" class="button"><a class="KET_ISI">ISI</a></button>
                </div> -->
       

        <!-- <img id="change-imageKET" src="img/KET_FFMC.png" alt="FFMC_image" height="450" width="930"
                    class="center" /> -->
        <!-- <img id='img_ffmc' src='img/ECMWF/39_asia_transparan_ffmc_00.png' height="0" width="0" class="imagefdrs" />
            <img id='img_fwi' src='img/ECMWF/39_asia_transparan_fwi_00.png' height="0" width="0" class="imagefdrs" />
           
             -->

       
        <!-- <div id="chartContainer_suhu" style="height: 300px; width: 100%;"></div>
            <br>
            <div id="chartContainer_cuaca" style="height: 300px; width: 100%; position: relative;"></div>
            </div> -->


        <div class="row">
            <div class="col-xs-12"></div>
            <div class="footer">
                <p class="text-footer">&copy; Copyright miko89 project.</p>
            </div>
        </div>


        <!--===================================================== SCRIPT ==================================================================  -->
        <!--================================================= PETA INTERACTIVE ============================================================  -->

        <script>
            //SLIDER
            var months = ['Januari', 'Februari', 'Maret', 'April', 'Mei', 'Juni', 'Juli', 'Agustus', 'September', 'Oktober', 'November', 'Desember'];
            var myDays = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jum&#39;at', 'Sabtu'];
            var date = new Date();
            var day = date.getDate();
            var month = date.getMonth();
            var thisDay = date.getDay(),
                thisDay = myDays[thisDay];
            var yy = date.getYear();
            var year = (yy < 1000) ? yy + 1900 : yy;
            // document.getElementById('Tanggal').innerHTML=thisDay + ', ' + day + ' ' + months[month] + ' ' + year;
            // document.getElementById('Tanggal').innerHTML= day + ' ' + months[month] + ' ' + year;

            var imgffmc = document.getElementById('img_satelit');
            var imgfwi = document.getElementById('img_fwi');
            var slider = document.getElementById("myRange");
            var output = document.getElementById("demo");
            var date = document.getElementById("Date")
            // output.innerHTML = slider.value;
            // date.innerHTML = day + " " + months[month] + " " + year;
            // slider.oninput = function (e) {
            //     let value = parseInt(e.target.value);
            //     if (value >= 0) {
            //         date.innerHTML = day + value + " " + months[month] + " " + year;
            //     } else { }
            //     output.innerHTML = this.value;
            // };
            var img_array1 = ['img/satelit/H08_ET_Indonesia_202206240000.png', 'img/satelit/H08_ET_Indonesia_202206240100.png', 'img/satelit/H08_ET_Indonesia_202206240200.png', 'img/satelit/H08_ET_Indonesia_202206240300.png', 'img/satelit/H08_ET_Indonesia_202206240400.png', 'img/satelit/H08_ET_Indonesia_202206240500.png', 'img/satelit/H08_ET_Indonesia_202206240600.png'];
            var img_array2 = ['img/ECMWF/39_asia_transparan_fwi_00.png', 'img/ECMWF/39_asia_transparan_fwi_01.png', 'img/ECMWF/39_asia_transparan_fwi_02.png', 'img/ECMWF/39_asia_transparan_fwi_03.png', 'img/ECMWF/39_asia_transparan_fwi_04.png', 'img/ECMWF/39_asia_transparan_fwi_05.png', 'img/ECMWF/39_asia_transparan_fwi_06.png', 'img/ECMWF/39_asia_transparan_fwi_07.png'];
            function setImage(obj) {
                var value = obj.value;
                imgffmc.src = img_array1[value];
                imgfwi.src = img_array2[value];

            }


            // center of the map
            var center = new L.latLng(-0.2, 119.0);
            var mbAttr = 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, ' +
                '<a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, ' +
                'Imagery © <a href="https://www.mapbox.com/">Mapbox</a>',
                mbUrl = 'https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw';
            var map = L.map('map', {
                maxZoom: 15,
                minZoom: 1,
            }).setView(center, 5);

            // Peta Grayscale 
            var grayscale = L.tileLayer(mbUrl, { id: 'mapbox/light-v9', tileSize: 512, zoomOffset: -1, attribution: mbAttr }),
                streets = L.tileLayer(mbUrl, { id: 'mapbox/streets-v11', tileSize: 512, zoomOffset: -1, attribution: mbAttr });

            // Peta OSM
            var OSM = L.tileLayer(
                'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                //attribution: 'Data © <a href="http://osm.org/copyright">OpenStreetMap</a>',
                maxZoom: 15
            })
            // Peta MapBOX
            var OpenTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
                maxZoom: 17,
                //attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
            })
            // Peta EsriDark
            var Esri_DarkGreyCanvas = L.tileLayer(
                "http://{s}.sm.mapstack.stamen.com/" +
                "(toner-lite,$fff[difference],$fff[@23],$fff[hsl-saturation@20])/" + "{z}/{x}/{y}.png",
                // {
                // attribution: 'Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, ' +
                // 'NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community'
                // }
            ).addTo(map);


            // Peta Dark 
            var Stadia_AlidadeSmoothDark = L.tileLayer('https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png', {
                maxZoom: 20,
                //attribution: '&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'
            })


            //Label  
            map.createPane('labels');
            map.getPane('labels').style.zIndex = 800;
            // Layers in this pane are non-interactive and do not obscure mouse/touch events
            map.getPane('labels').style.pointerEvents = 'none';
            var Stamen_TerrainLabels = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}', {
                //attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                subdomains: 'abcd',
                FontSize: 4,
                minZoom: 0,
                maxZoom: 18,
                zindex: 400,
                ext: 'png',
                pane: 'labels'
            });

            //Map_Backgroun2                
            var Stamen_TonerBackground = L.tileLayer('https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}', {
                //attribution: 'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',
                subdomains: 'abcd',
                minZoom: 0,
                maxZoom: 20,
                ext: 'png'
            });

            // ==================================================================== LEGENDA ======================================================//
            //MEMBUAT LEGENDA

            var legend = L.control({ position: 'bottomleft' });

            legend.onAdd = function (map) {

                var div = L.DomUtil.create('div', 'info legend'),
                    grades = ["<b>Titik Hotspot (Sumber:LAPAN) </b>"],
                    labels = ['img/category_cyclone.png'];

                // loop through our density intervals and generate a label with a colored square for each interval
                for (var j = 0; j < grades.length; j++) {
                    div.innerHTML +=
                        // grades[j] + '<br>' + (" <img src=" + labels[j] + " height='45' width='250'>");
                        (" <img src=" + labels[j] + " height='45' width='250'>");
                }

                return div;
            };

            legend.addTo(map);
            var legend = L.control({ position: 'bottomleft' });

            legend.onAdd = function (map) {

                var div = L.DomUtil.create('div', 'info legend'),
                    grades = ["<b> FDRS</b>"],
                    labels = ['img/legendasatelit.png'];

                // loop through our density intervals and generate a label with a colored square for each interval
                for (var i = 0; i < grades.length; i++) {
                    div.innerHTML +=
                        ("<img src=" + labels[i] + " height='320' width='30'>" + '<br>');
                }

                return div;
            };


            legend.addTo(map);



            var legend = L.control({ position: "topright" });

            legend.onAdd = function (map) {

                var div = L.DomUtil.create('div', 'info legend'),
                    grades = ["<b> Logo Spartan</b>"],
                    labels = ['img/legenda_siklon_2.png'];

                // loop through our density intervals and generate a label with a colored square for each interval
                for (var i = 0; i < grades.length; i++) {
                    div.innerHTML +=
                        ("<img src=" + labels[i] + " height='25' width='250'>");
                }

                return div;
            };
            legend.addTo(map);

            // <!--================================================== LAYER BATAS WILAYAH=====================================================  -->


            // var geojsonLayer = new L.GeoJSON.AJAX("data/batas_wilayah.geojson");       
            // geojsonLayer.addTo(map);


            // var district_boundary = new L.geoJson();
            // (district_boundary.{style: style}).addTo(map);

            // $.ajax({
            // dataType: "json",
            // url: "data/KB_NTT.geojson",
            // success: function(data) {
            //     $(data.features).each(function(key, data) {
            //         district_boundary.addData(data);
            //     });

            //          }
            //     })




            // function popUp(f,l){
            //     var out = [];
            //     if (f.properties){
            //         for(key in f.properties){
            //             out.push(key+": "+f.properties[key]);
            //         }
            //         l.bindPopup(out.join("<br />"));
            //     }
            // }


            function getColor(d) {
                return d > 1000 ? '#800026' :
                    d > 500 ? '#BD0026' :
                        d > 200 ? '#E31A1C' :
                            d > 100 ? '#FC4E2A' :
                                d > 50 ? '#FD8D3C' :
                                    d > 20 ? '#FFFB00' :
                                        d > 10 ? '#FFFC1E' :
                                            '#FFFB00';
            }

            function style(feature) {
                return {
                    fillColor: getColor(feature.properties.density),
                    weight: 1,
                    opacity: 1,
                    color: 'black',
                    // dashArray: '1',
                    fillOpacity: 1
                };
            }



            var geojson;

            function highlightFeature(e) {
                var layer = e.target;

                layer.setStyle({
                    weight: 2,
                    color: 'white',
                    // dashArray: '3',
                    fillOpacity: 0.7
                });

                if (!L.Browser.ie && !L.Browser.opera && !L.Browser.edge) {
                    layer.bringToFront();
                }
            }

            function resetHighlight(e) {
                geojson.resetStyle(e.target);
            }

            function zoomToFeature(e) {
                map.fitBounds(e.target.getBounds());
            }

            function onEachFeature(feature, layer) {
                layer.on({
                    mouseover: highlightFeature,
                    mouseout: resetHighlight,
                    click: zoomToFeature
                });
            }

            // var geojson = L.geoJson(batas_wilayah, {
            //     style: style,
            //     onEachFeature: yourOnEachFeatureFunction
            // }).addTo(map);


            // function yourOnEachFeatureFunction(feature, layer){
            //     if (feature.properties.name) {
            //         layer.bindPopup(feature.properties.name);
            //     }}


            map.getPane('labels').style.zIndex = 200;
            map.getPane('labels').style.pointerEvents = 'none';
            var geojson = L.geoJSON(batas_wilayah, {
                style: style,
                pane: 'labels',
                onEachFeature: function (feature, layer) {
                    layer.bindPopup('<h5>' + feature.properties.NM_KAB + '</h5><b><p>STATUS: ' + feature.properties.STATUS + '</p>');
                }
            })//.addTo(map);


            // var myStyle = {
            //     "color": "white",
            //     "weight": 5,
            //     "opacity": 1
            // };

            // L.geoJSON(myLines, {
            //     style: myStyle
            // }).addTo(map)


            // // function connectTheDots(data){
            // //     var jsondatafdrs = [];
            // //     for(i in data._layers) {
            // //         var x = data._layers[i]._latlng.lat;
            // //         var y = data._layers[i]._latlng.lng;
            // //         jsondatafdrs.push([x, y]);
            // //     }

            // // pathCoords = connectTheDots(window.geojson);
            // // var jsondatafdrs = L.polyline(pathCoords).addTo(map)
            // //     return c;
            // }








            // <!--================================================== LAYER HOTSPOT =====================================================  -->
            //BBU

            // var jsonsiklonbbu_1 = 'data/siklonbbu_1.json';
            // function getJSONValue(fileJSON) {
            //     var value = $.ajax({
            //         url: fileJSON,
            //         async: false
            //     }).responseText;
            //     return value
            // }
            // datasiklon_1 = getJSONValue(jsonsiklon_1)
            // var siklonJSON_1 = JSON.parse(datasiklon_1)

            var jsonsiklonbbutrack_1 = 'data/siklonbbu_1.json';
            function getJSONValue(fileJSON) {
                var value = $.ajax({
                    url: fileJSON,
                    async: false
                }).responseText;
                return value
            }
            datatracksiklonbbu_1 = getJSONValue(jsonsiklonbbutrack_1)
            var siklonbbutrackJSON_1 = JSON.parse(datatracksiklonbbu_1)



            //BBS
            //DATA JSON SIKLON 1

            var jsonsiklon_1 = 'data/siklon_1.json';
            function getJSONValue(fileJSON) {
                var value = $.ajax({
                    url: fileJSON,
                    async: false
                }).responseText;
                return value
            }
            datasiklon_1 = getJSONValue(jsonsiklon_1)
            var siklonJSON_1 = JSON.parse(datasiklon_1)

            var jsonsiklon_2 = 'data/siklon_2.json';
            function getJSONValue(fileJSON) {
                var value = $.ajax({
                    url: fileJSON,
                    async: false
                }).responseText;
                return value
            }
            datasiklon_2 = getJSONValue(jsonsiklon_2)
            var siklonJSON_2 = JSON.parse(datasiklon_2)


            //DATA JSON SIKLON 2

            var jsonsiklontrack_1 = 'data/track_siklon_1.json';
            function getJSONValue(fileJSON) {
                var value = $.ajax({
                    url: fileJSON,
                    async: false
                }).responseText;
                return value
            }
            datatracksiklon_1 = getJSONValue(jsonsiklontrack_1)
            var siklontrackJSON_1 = JSON.parse(datatracksiklon_1)

            var jsonsiklontrack_2 = 'data/track_siklon_2.json';
            function getJSONValue(fileJSON) {
                var value = $.ajax({
                    url: fileJSON,
                    async: false
                }).responseText;
                return value
            }
            datatracksiklon_2 = getJSONValue(jsonsiklontrack_2)
            var siklontrackJSON_2 = JSON.parse(datatracksiklon_2)



            // size of the icon
            // iconAnchor: [0, 0], // point of the icon which will correspond to marker's location
            // popupAnchor: [0, 0], // point from which the popup should open relative to the iconAnchor

            // <!--================================================== ICON SIKLON ANALISIS =====================================================  -->

            // BBU
            // var customIcon1bbu = L.icon({
            //     iconUrl: 'img/iconbbu_tc1.png',
            //     iconSize: [30, 50]
            // })

            // var customIcon2bbu = L.icon({
            //     iconUrl: 'img/iconbbu_tc2.png',
            //     iconSize: [30, 50]
            // })

            // var customIcon3bbu = L.icon({
            //     iconUrl: 'img/iconbbu_tc3.png',
            //     iconSize: [30, 50]
            // })


            // <!--================================================== ICON SIKLON PREDIKSI =====================================================  -->             
            //BBU     
            var customIconbbu_0 = L.icon({
                iconUrl: 'img/icon_lowsiklon.png',
                iconSize: [20, 20],
            }) // size of the icon


            var customIconbbu_1 = L.icon({
                iconUrl: 'img/iconbbu_tc1.png',
                iconSize: [30, 50],
            }) // size of the icon


            var customIconbbu_2 = L.icon({
                iconUrl: 'img/iconbbu_tc2.png',
                iconSize: [30, 50],
            }) // size of the icon     

            var customIconbbu_3 = L.icon({
                iconUrl: 'img/iconbbu_tc3.png',
                iconSize: [30, 50],
            }) // size of the icon   


            //===============================================================================================

            // BBS
            var customIcon1 = L.icon({
                iconUrl: 'img/siklon_1.gif',
                iconSize: [30, 50]
            })

            var customIcon2 = L.icon({
                iconUrl: 'img/siklon_2.gif',
                iconSize: [30, 50]
            })

            var customIcon3 = L.icon({
                iconUrl: 'img/siklon_3.gif',
                iconSize: [30, 50]
            })


            // <!--================================================== ICON SIKLON PREDIKSI =====================================================  -->             

            var customIcon_0 = L.icon({
                iconUrl: 'img/low.png',
                iconSize: [30, 30],
            }) // size of the icon


            var customIcon_1 = L.icon({
                iconUrl: 'img/icon_tc1.png',
                iconSize: [30, 50],
            }) // size of the icon


            var customIcon_2 = L.icon({
                iconUrl: 'img/icon_tc2.png',
                iconSize: [30, 50],
            }) // size of the icon     

            var customIcon_3 = L.icon({
                iconUrl: 'img/icon_tc3.png',
                iconSize: [30, 50],
            }) // size of the icon     

            var track_siklon_bbu = L.layerGroup()
            var siklon = L.layerGroup()
            var track_siklon = L.layerGroup()
            var garistrack = L.layerGroup()
            var PREC100 = L.layerGroup()

            //============================================================KONDISIONAL SIKLON==============================================================
            //BBU
            //PREDIKSI SIKLON TROPIS 1

            for (m = 0; m < siklonbbutrackJSON_1.length; m++) {
                var Category = parseInt(siklonbbutrackJSON_1[m].Category)
                var Coordinate = new L.latLng(([siklonbbutrackJSON_1[m].Latitude, siklonbbutrackJSON_1[m].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIconbbu_0 })
                marker.bindPopup('<center><b><h6>' + siklonbbutrackJSON_1[m].Name + '</h6></b></center>' + siklonbbutrackJSON_1[m].Time + '</br>' + "<b>Tekanan : </b>" + siklonbbutrackJSON_1[m].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonbbutrackJSON_1[m].MeanWind + "kt");
                if (Category < 1) { track_siklon_bbu.addLayer(marker) }
                else { }
            }


            for (i = 0; i < siklonbbutrackJSON_1.length; i++) {
                var Category = parseInt(siklonbbutrackJSON_1[i].Category)
                var Coordinate = new L.latLng(([siklonbbutrackJSON_1[i].Latitude, siklonbbutrackJSON_1[i].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIconbbu_1 })
                marker.bindPopup('<center><b><h6>' + siklonbbutrackJSON_1[i].Name + '</h6></b></center>' + siklonbbutrackJSON_1[i].Time + '</br>' + "<b>Tekanan : </b>" + siklonbbutrackJSON_1[i].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonbbutrackJSON_1[i].MeanWind + "kt");
                if (Category > 0 && Category < 2) { track_siklon_bbu.addLayer(marker) }
                else { }
            }

            for (j = 0; j < siklonbbutrackJSON_1.length; j++) {
                var Category = parseInt(siklonbbutrackJSON_1[j].Category)
                var Coordinate = new L.latLng(([siklonbbutrackJSON_1[j].Latitude, siklonbbutrackJSON_1[j].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIconbbu_2 })
                marker.bindPopup('<center><b><h6>' + siklonbbutrackJSON_1[j].Name + '</h6></b></center>' + siklonbbutrackJSON_1[j].Time + '</br>' + "<b>Tekanan : </b>" + siklonbbutrackJSON_1[j].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonbbutrackJSON_1[j].MeanWind + "kt");
                if (Category > 1 && Category < 3) { track_siklon_bbu.addLayer(marker) }
                else { }
            }

            for (p = 0; p < siklonbbutrackJSON_1.length; p++) {
                var Category = parseInt(siklonbbutrackJSON_1[p].Category)
                var Coordinate = new L.latLng(([siklonbbutrackJSON_1[p].Latitude, siklonbbutrackJSON_1[p].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIconbbu_2 })
                marker.bindPopup('<center><b><h6>' + siklonbbutrackJSON_1[p].Name + '</h6></b></center>' + siklonbbutrackJSON_1[p].Time + '</br>' + "<b>Tekanan : </b>" + siklonbbutrackJSON_1[p].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonbbutrackJSON_1[p].MeanWind + "kt");
                if (Category > 3 && Category < 5) { track_siklon_bbu.addLayer(marker) }
                else { }
            }









            for (k = 0; k < siklonbbutrackJSON_1.length; k++) {
                var Category = parseInt(siklonbbutrackJSON_1[k].Category)
                var Coordinate = new L.latLng(([siklonbbutrackJSON_1[k].Latitude, siklonbbutrackJSON_1[k].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIconbbu_3 })
                marker.bindPopup('<b>' + siklonbbutrackJSON_1[k].Name + '</b> </br>' + siklonbbutrackJSON_1[k].Time + '</br>' + "<b>Tekanan : </b>" + siklonbbutrackJSON_1[k].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonbbutrackJSON_1[k].MeanWind + "kt");
                if (Category > 2 && Category < 4) { track_siklon_bbu.addLayer(marker) }
                else { }
            }

            //GARIS TRACK SIKLON 
            for (l = 0; l < siklonbbutrackJSON_1.length - 1; l++) {
                var Category = parseInt(siklonbbutrackJSON_1[l].Category)
                var Coordinate = new L.latLng(([siklonbbutrackJSON_1[l].Latitude, siklonbbutrackJSON_1[l].Longitude]))
                var CoordinateB = new L.latLng(([siklonbbutrackJSON_1[l + 1].Latitude, siklonbbutrackJSON_1[l + 1].Longitude]))
                var polyline = L.polyline([Coordinate, CoordinateB], { color: 'red' })
                // map.fitBounds(polyline.getBounds());
                if (Category >= 0) { garistrack.addLayer(polyline) }
                else { }
            }

            //ANALISA SIKLON BBS


            for (f = 0; f < siklonJSON_1.length; f++) {
                var Category = parseInt(siklonJSON_1[f].Category)
                var Coordinate = new L.latLng(([siklonJSON_1[f].Latitude, siklonJSON_1[f].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon1 })
                marker.bindPopup('<center><b>' + siklonJSON_1[f].Name + '</b></center>' + siklonJSON_1[f].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_1[f].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_1[f].MeanWind + "kt");
                if (Category > 0 && Category < 2) { siklon.addLayer(marker) }
                else { }

            }

            for (g = 0; g < siklonJSON_1.length; g++) {
                var Category = parseInt(siklonJSON_1[g].Category)
                var Coordinate = new L.latLng(([siklonJSON_1[g].Latitude, siklonJSON_1[g].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon2 })
                marker.bindPopup('<center><b>' + siklonJSON_1[g].Name + '</b></center>' + siklonJSON_1[g].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_1[g].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_1[g].MeanWind + "kt");
                if (Category > 1 && Category < 3) { siklon.addLayer(marker) }
                else { }
            }


            for (h = 0; h < siklonJSON_1.length; h++) {
                var Category = parseInt(siklonJSON_1[h].Category)
                var Coordinate = new L.latLng(([siklonJSON_1[h].Latitude, siklonJSON_1[h].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon3 })
                marker.bindPopup('<center><b>' + siklonJSON_1[h].Name + '</b></center>' + siklonJSON_1[h].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_1[h].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_1[h].MeanWind + "kt");
                if (Category > 2 && Category < 4) { siklon.addLayer(marker) }
                else { }
            }

            for (f = 0; f < siklonJSON_2.length; f++) {
                var Category = parseInt(siklonJSON_2[f].Category)
                var Coordinate = new L.latLng(([siklonJSON_2[f].Latitude, siklonJSON_2[f].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon1 })
                marker.bindPopup('<center><b>' + siklonJSON_2[f].Name + '</b></center>' + siklonJSON_2[f].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_2[f].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_2[f].MeanWind + "kt");
                if (Category > 0 && Category < 2) { siklon.addLayer(marker) }
                else { }
            }

            for (g = 0; g < siklonJSON_2.length; g++) {
                var Category = parseInt(siklonJSON_2[g].Category)
                var Coordinate = new L.latLng(([siklonJSON_2[g].Latitude, siklonJSON_2[g].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon2 })
                marker.bindPopup('<center><b>' + siklonJSON_2[g].Name + '</b></center>' + siklonJSON_2[g].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_2[g].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_2[g].MeanWind + "kt");
                if (Category > 1 && Category < 3) { siklon.addLayer(marker) }
                else { }
            }


            for (h = 0; h < siklonJSON_2.length; h++) {
                var Category = parseInt(siklonJSON_2[h].Category)
                var Coordinate = new L.latLng(([siklonJSON_2[h].Latitude, siklonJSON_2[h].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon3 })
                marker.bindPopup('<center><b>' + siklonJSON_2[h].Name + '</b></center>' + siklonJSON_2[h].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_2[h].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_2[h].MeanWind + "kt");
                if (Category > 2 && Category < 4) { siklon.addLayer(marker) }
                else { }
            }

            //PREDIKSI SIKLON TROPIS 1

            for (m = 0; m < siklontrackJSON_1.length; m++) {
                var Category = parseInt(siklontrackJSON_1[m].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_1[m].Latitude, siklontrackJSON_1[m].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_0 })
                marker.bindPopup('<b>' + siklontrackJSON_1[m].Name + '</b> </br>' + siklontrackJSON_1[m].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_1[m].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_1[m].MeanWind + "kt");
                if (Category < 1) { siklon.addLayer(marker) }
                else { }
            }


            for (i = 0; i < siklontrackJSON_1.length; i++) {
                var Category = parseInt(siklontrackJSON_1[i].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_1[i].Latitude, siklontrackJSON_1[i].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_1 })
                marker.bindPopup('<b>' + siklontrackJSON_1[i].Name + '</b> </br>' + siklontrackJSON_1[i].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_1[i].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_1[i].MeanWind + "kt");
                if (Category > 0 && Category < 2) { track_siklon.addLayer(marker) }
                else { }
            }

            for (j = 0; j < siklontrackJSON_1.length; j++) {
                var Category = parseInt(siklontrackJSON_1[j].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_1[j].Latitude, siklontrackJSON_1[j].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_2 })
                marker.bindPopup('<b>' + siklontrackJSON_1[j].Name + '</b> </br>' + siklontrackJSON_1[j].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_1[j].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_1[j].MeanWind + "kt");
                if (Category > 1 && Category < 3) { track_siklon.addLayer(marker) }
                else { }
            }


            for (k = 0; k < siklontrackJSON_1.length; k++) {
                var Category = parseInt(siklontrackJSON_1[k].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_1[k].Latitude, siklontrackJSON_1[k].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_3 })
                marker.bindPopup('<b>' + siklontrackJSON_1[k].Name + '</b> </br>' + siklontrackJSON_1[k].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_1[k].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_1[k].MeanWind + "kt");
                if (Category > 2 && Category < 4) { track_siklon.addLayer(marker) }
                else { }
            }



            //GARIS TRACK SIKLON 
            for (l = 0; l < siklontrackJSON_1.length - 1; l++) {
                var Category = parseInt(siklontrackJSON_1[l].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_1[l].Latitude, siklontrackJSON_1[l].Longitude]))
                var CoordinateB = new L.latLng(([siklontrackJSON_1[l + 1].Latitude, siklontrackJSON_1[l + 1].Longitude]))
                var polyline = L.polyline([Coordinate, CoordinateB], { color: 'red' })
                // map.fitBounds(polyline.getBounds());
                if (Category >= 0) { garistrack.addLayer(polyline) }
                else { }
            }


            //PREDIKSI SIKLON TROPIS 2    

            for (m = 0; m < siklonJSON_2.length; m++) {
                var Category = parseInt(siklonJSON_2[m].Category)
                var Coordinate = new L.latLng(([siklonJSON_2[m].Latitude, siklonJSON_2[m].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_0 })
                marker.bindPopup('<b>' + siklonJSON_2[m].Name + '</b> </br>' + siklonJSON_2[m].Time + '</br>' + "<b>Tekanan : </b>" + siklonJSON_2[m].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklonJSON_2[m].MeanWind + "kt");
                if (Category < 1) { siklon.addLayer(marker) }
                else { }
            }


            for (i = 0; i < siklontrackJSON_2.length; i++) {
                var Category = parseInt(siklontrackJSON_2[i].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_2[i].Latitude, siklontrackJSON_2[i].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_1 })
                marker.bindPopup('<b>' + siklontrackJSON_2[i].Name + '</b> </br>' + siklontrackJSON_2[i].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_2[i].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_2[i].MeanWind + "kt");
                if (Category < 2) { track_siklon.addLayer(marker) }
                else { }
            }

            for (j = 0; j < siklontrackJSON_2.length; j++) {
                var Category = parseInt(siklontrackJSON_2[j].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_2[j].Latitude, siklontrackJSON_2[j].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_2 })
                marker.bindPopup('<b>' + siklontrackJSON_2[j].Name + '</b> </br>' + siklontrackJSON_2[j].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_2[j].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_2[j].MeanWind + "kt");
                if (Category > 1 && Category < 3) { track_siklon.addLayer(marker) }
                else { }
            }


            for (k = 0; k < siklontrackJSON_2.length; k++) {
                var Category = parseInt(siklontrackJSON_2[k].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_2[k].Latitude, siklontrackJSON_2[k].Longitude]))
                var marker = L.marker(Coordinate, { icon: customIcon_3 })
                marker.bindPopup('<b>' + siklontrackJSON_2[k].Name + '</b> </br>' + siklontrackJSON_2[k].Time + '</br>' + "<b>Tekanan : </b>" + siklontrackJSON_2[k].Pressure + "hPa" + '</br>' + "<b>Kec.Angin : </b>" + siklontrackJSON_2[k].MeanWind + "kt");
                if (Category > 2 && Category < 4) { track_siklon.addLayer(marker) }
                else { }
            }


            //GARIS TRACK SIKLON 
            for (l = 0; l < siklontrackJSON_2.length - 1; l++) {
                var Category = parseInt(siklontrackJSON_2[l].Category)
                var Coordinate = new L.latLng(([siklontrackJSON_2[l].Latitude, siklontrackJSON_2[l].Longitude]))
                var CoordinateB = new L.latLng(([siklontrackJSON_2[l + 1].Latitude, siklontrackJSON_2[l + 1].Longitude]))
                var polyline = L.polyline([Coordinate, CoordinateB], { color: 'pink' })
                // map.fitBounds(polyline.getBounds());
                if (Category >= 0) { garistrack.addLayer(polyline) }
                else { }
            }




            // <!--================================================== LAYER FDRS =====================================================  -->

            var imageUrl_ffmc = document.getElementById("img_ffmc")
            var imageBounds_ffmc = new L.LatLngBounds(
                new L.LatLng(-12.7, 91.2),
                new L.LatLng(28.0, 150)
            )

            var imageUrl_dmc = document.getElementById("img_dmc")
            var imageBounds_dmc = new L.LatLngBounds(
                new L.LatLng(-12.7, 91.2),
                new L.LatLng(28.0, 150)
            )

            var imageUrl_dc = 'img/fdrs_dc_gsmap_1.png';
            var imageBounds_dc = new L.LatLngBounds(
                new L.LatLng(-12.7, 91.2),
                new L.LatLng(28.0, 150)
            )
            var imageUrl_fwi = document.getElementById("img_fwi")
            var imageBounds_fwi = new L.LatLngBounds(
                new L.LatLng(-12.7, 91.2),
                new L.LatLng(28.0, 150)
            )

            var imageUrl_bui = 'img/fdrs_bui_gsmap_1.png';
            var imageBounds_bui = new L.LatLngBounds(
                new L.LatLng(-12.7, 91.2),
                new L.LatLng(28.0, 150)
            )

            var imageUrl_isi = 'img/fdrs_isi_gsmap_1.png';
            var imageBounds_isi = new L.LatLngBounds(
                new L.LatLng(-12.7, 91.2),
                new L.LatLng(28.0, 150)
            )

            var imageUrl_satelit = document.getElementById("img_satelit")
            var imageBounds_satelit = new L.LatLngBounds(
                new L.LatLng(-20.2, 88.8),
                new L.LatLng(32.0, 150.0)
            )

            var imageUrl_1 = 'img/KAB_RIAU.png';
            var imageBounds_1 = new L.LatLngBounds(
                new L.LatLng(-11.35, 91.68),
                new L.LatLng(27.25, 148.15)
            )

            var LayerFDRS_ffmc = L.imageOverlay(imageUrl_ffmc, imageBounds_ffmc, { zindex: 900 })//.addTo(map);
            var LayerFDRS_dmc = L.imageOverlay(imageUrl_dmc, imageBounds_dmc, { zindex: 900 })//.addTo(map);
            var LayerFDRS_dc = L.imageOverlay(imageUrl_dc, imageBounds_dc, { zindex: 900 })//.addTo(map);
            var LayerFDRS_fwi = L.imageOverlay(imageUrl_fwi, imageBounds_fwi, { zindex: 900 })//.addTo(map);
            var LayerFDRS_bui = L.imageOverlay(imageUrl_bui, imageBounds_bui, { zindex: 900 })//.addTo(map);
            var LayerFDRS_isi = L.imageOverlay(imageUrl_isi, imageBounds_isi, { zindex: 900 })//.addTo(map);
            var LayerSatelit = L.imageOverlay(imageUrl_satelit, imageBounds_satelit, { zindex: 900 })//.addTo(map);



            // <!--======================================================== LAYER CONTROL =====================================================  -->

            var baseLayers = {
                "Gray scale": grayscale,
                "OSM": OSM,
                "OSM_Topo": OpenTopoMap,
                // "Dark_Map" : Stadia_AlidadeSmoothDark,
                "Esri_Dark": Esri_DarkGreyCanvas,
                "Map": Stamen_TonerBackground



            };

            var overlays = {

                // "FFMC": LayerFDRS_ffmc,
                // "DMC": LayerFDRS_dmc,
                // "DC": LayerFDRS_dc,
                // "FWI": LayerFDRS_fwi,
                // "BUI": LayerFDRS_bui,
                // "ISI": LayerFDRS_isi,
                "SATELIT CUACA": LayerSatelit,
                "Nama wilayah": Stamen_TerrainLabels,
                "Wilayah Terdampak": geojson,
                "Siklon Tropis": siklon,
                "Siklon Tropis BBU": track_siklon_bbu,
                "Forecast TC": track_siklon,
                "Garis Tc": garistrack,
                // "PREC100": PREC100


            };


            L.control.layers(baseLayers, overlays).addTo(map);


            // <!--================================================== CHANGE IMAGE GRAFIK =====================================================  -->

            // jQuery(document).ready(function ($) {

            //     $('.KET_FFMC').on({
            //         'click': function () {
            //             $('#change-imageKET').attr('src', 'img/KET_FFMC.png');
            //         }
            //     });

            //     $('.KET_DMC').on({
            //         'click': function () {
            //             $('#change-imageKET').attr('src', 'img/ket_dmc_1.png');

            //         }
            //     });


            //     $('.KET_DC').on({
            //         'click': function () {
            //             $('#change-imageKET').attr('src', 'img/ket_dc_1.png');
            //         }
            //     });

            //     $('.KET_FWI').on({
            //         'click': function () {
            //             $('#change-imageKET').attr('src', 'img/ket_fwi_1.png');
            //         }
            //     });


            //     $('.KET_BUI').on({
            //         'click': function () {
            //             $('#change-imageKET').attr('src', 'img/ket_bui_1.png');
            //         }
            //     });



            //     $('.KET_ISI').on({
            //         'click': function () {
            //             $('#change-imageKET').attr('src', 'img/ket_isi_1.png');
            //         }
            //     });

            //LOADING . . . . . . . . . . . . . . . . . . . . . . . .  . . . .

            setTimeout(function () {
                $('.loader').css('display', 'none');
            }, 3000); // it will remove after 5 seconds


            // <!--================================================== GRAFIK INTERAKTIF =====================================================  -->
            //GRAFIK_CH

            window.onload = function () {

                var dataPoints_1 = [];

                var chart_ch = new CanvasJS.Chart("chartContainer_ch", {
                    animationEnabled: true,
                    theme: "dark2",
                    title: {
                        text: "Siklon Tropis di wilayah BBU",
                        FontSize: 20
                    },

                    toolTip: {
                        enabled: true,       //disable here
                        animationEnabled: true,//disable here
                        borderColor: "#F1C40F",
                        borderThickness: 2,
                        cornerRadius: 10
                    },

                    axisY: {
                        title: "Jumlah",
                        titleFontSize: 17,
                        includeZero: true,

                    },
                    axisX: {
                        // title: "Tanggal",
                        titleFontSize: 15,

                    },


                    data: [{
                        type: "column",
                        color: "#FFB6C1",
                        dataPoints: dataPoints_1,
                        xValueFormatString: "YYYY-MM-DD",
                        yValueFormatString: "###",
                        name: "Jumlah"
                    }]
                });

                $.getJSON("ch_grafik.json", addData);
                function addData(data) {
                    for (var i = 0; i < data.length; i++) {
                        dataPoints_1.push({
                            x: new Date(data[i].year),
                            y: data[i].ch
                        });
                    }
                    chart_ch.render();
                }




                // var jsondata_ch = 'ch_grafik.json';
                // function getJSONValue(fileJSON) {
                //      var value = $.ajax({
                //         url: fileJSON,
                //       async: false
                //    }).responseText;
                //    return value
                //  }

                // data_ch = getJSONValue(jsondata_ch)
                // var data_chjson = JSON.parse(data_ch)

                // for (var i = 0; i < data_chjson.length; i++) {
                //         dataPoints_1.push({
                //             x: new Date (data_chjson[i].year),
                //             y: data_chjson[i].ch
                //         });
                //     }
                //     chart_ch.render();



                //GRAFIK_SUHU


                // var dataPoints = [];
                // var chart_suhu = new CanvasJS.Chart("chartContainer_suhu",{
                //     theme: "dark2",
                //     animationEnabled : true,
                //     title:{
                //         text:"Data Suhu Permukaan"
                //     },

                //     axisY: {
                //         title: "Temperature (in °C)",
                //         suffix: " °C",
                //         stripLines: [{
                //             value: 40,
                //             label: "Suhu Ekstrem",

                //         }]
                //     },

                //     axisX: {
                //         title: "Jam Observasi (UTC)",
                //             // valueFormatString: "#0,,.",
                //     },

                //     data: [{
                //         type: "spline",
                //         dataPoints             : dataPoints,
                //     }]


                // });

                // $.getJSON("test.json", function(data) {  
                //     $.each(data, function(key, value){
                //         dataPoints.push({x: value[0], y: (value[1])});
                //     });	
                //     chart_suhu.render();
                // });


                //GRAFIK_CUACA

                // var chart = new CanvasJS.Chart("chartContainer_cuaca", {  
                //     theme: "dark2",
                // 	title:{
                // 		text: "Weekly Weather Forecast"             
                // 	},
                // 	axisY: {
                // 		suffix: " °C",
                // 		maximum: 40,
                // 		gridThickness: 0
                // 	},
                // 	toolTip:{
                // 		shared: true,
                // 		content: "{name} </br> <strong>Temperature: </strong> </br> Min: {y[0]} °C, Max: {y[1]} °C"
                // 	},
                // 	data: [{
                // 		type: "rangeSplineArea",
                // 		fillOpacity: 0.1,
                // 		color: "#91AAB1",
                // 		indexLabelFormatter: formatter,
                // 		dataPoints: [
                // 			{ label: "Monday", y: [15, 26], name: "rainy" },
                // 			{ label: "Tuesday", y: [15, 27], name: "rainy" },
                // 			{ label: "Wednesday", y: [13, 27], name: "sunny" },
                // 			{ label: "Thursday", y: [14, 27], name: "sunny" },
                // 			{ label: "Friday", y: [15, 26], name: "cloudy" },
                // 			{ label: "Saturday", y: [17, 26], name: "sunny" },
                // 			{ label: "Sunday", y: [16, 27], name: "rainy" }
                // 		]
                // 	}]
                // });
                // chart.render();

                // var images = [];    

                // addImages(chart);

                // function addImages(chart) {
                // 	for(var i = 0; i < chart.data[0].dataPoints.length; i++){
                // 		var dpsName = chart.data[0].dataPoints[i].name;
                // 		if(dpsName == "cloudy"){
                // 			images.push($("<img>").attr("src", "https://canvasjs.com/wp-content/uploads/images/gallery/gallery-overview/cloudy.png"));
                // 		} else if(dpsName == "rainy"){
                // 		images.push($("<img>").attr("src", "https://canvasjs.com/wp-content/uploads/images/gallery/gallery-overview/rainy.png"));
                // 		} else if(dpsName == "sunny"){
                // 			images.push($("<img>").attr("src", "https://canvasjs.com/wp-content/uploads/images/gallery/gallery-overview/sunny.png"));
                // 		}

                // 	images[i].attr("class", dpsName).appendTo($("#chartContainer_cuaca>.canvasjs-chart-container"));
                // 	positionImage(images[i], i);
                // 	}
                // }

                // function positionImage(image, index) {
                // 	var imageCenter = chart.axisX[0].convertValueToPixel(chart.data[0].dataPoints[index].x);
                // 	var imageTop =  chart.axisY[0].convertValueToPixel(chart.axisY[0].maximum);

                // 	image.width("40px")
                // 	.css({ "left": imageCenter - 20 + "px",
                // 	"position": "absolute","top":imageTop + "px",
                // 	"position": "absolute"});
                // }

                // $( window ).resize(function() {
                // 	var cloudyCounter = 0, rainyCounter = 0, sunnyCounter = 0;    
                // 	var imageCenter = 0;
                // 	for(var i=0;i<chart.data[0].dataPoints.length;i++) {
                // 		imageCenter = chart.axisX[0].convertValueToPixel(chart.data[0].dataPoints[i].x) - 20;
                // 		if(chart.data[0].dataPoints[i].name == "cloudy") {					
                // 			$(".cloudy").eq(cloudyCounter++).css({ "left": imageCenter});
                // 		} else if(chart.data[0].dataPoints[i].name == "rainy") {
                // 			$(".rainy").eq(rainyCounter++).css({ "left": imageCenter});  
                // 		} else if(chart.data[0].dataPoints[i].name == "sunny") {
                // 			$(".sunny").eq(sunnyCounter++).css({ "left": imageCenter});  
                // 		}                
                // 	}
                // });

                // function formatter(e) { 
                // 	if(e.index === 0 && e.dataPoint.x === 0) {
                // 		return " Min " + e.dataPoint.y[e.index] + "°";
                // 	} else if(e.index == 1 && e.dataPoint.x === 0) {
                // 		return " Max " + e.dataPoint.y[e.index] + "°";
                // 	} else{
                // 		return e.dataPoint.y[e.index] + "°";
                // 	}
                // }



            }

        </script>
</body>

</html>